<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Κουίζ: Η Οχύρωση του Κάστρου Καλλιθέας</title>
    <!-- Φόρτωση Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Ρύθμιση γραμματοσειράς Inter */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc; /* Λευκό-γκρι φόντο */
        }
        /* Προσαρμογή κουμπιών επιλογών */
        .option-button {
            transition: all 0.2s ease-in-out;
            cursor: pointer;
        }
        .option-button:hover:not(.disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }
        .correct {
            background-color: #b9fbc0 !important; /* Ανοιχτό πράσινο */
            border-color: #047857 !important;
            color: #047857 !important;
        }
        .incorrect {
            background-color: #ffc9c9 !important; /* Ανοιχτό κόκκινο */
            border-color: #b91c1c !important;
            color: #b91c1c !important;
        }
    </style>
</head>
<body class="p-2 sm:p-4 md:p-8 flex items-center justify-center min-h-screen">

    <div id="quiz-container" class="w-full max-w-xl bg-white p-4 sm:p-6 md:p-8 rounded-xl sm:rounded-2xl shadow-lg sm:shadow-2xl border border-gray-100">

        <!-- Τίτλος -->
        <h1 class="text-2xl sm:text-3xl md:text-4xl font-extrabold text-center text-gray-800 mb-4 sm:mb-6 border-b-4 border-yellow-500 pb-2">
            Κουίζ: Κάστρο Καλλιθέας
        </h1>

        <!-- Πίνακας Βαθμολογίας και Αρίθμησης Ερώτησης -->
        <div class="flex justify-between items-center mb-4 sm:mb-6 text-base sm:text-lg font-semibold text-gray-600">
            <span id="question-number">Ερώτηση 1 / 15</span>
            <span id="current-score" class="text-green-700">Σκορ: 0</span>
        </div>

        <!-- Περιοχή Ερώτησης -->
        <div class="bg-blue-50 p-4 sm:p-5 rounded-lg sm:rounded-xl mb-4 sm:mb-6 shadow-md border-l-4 border-blue-500">
            <p id="question-text" class="text-lg sm:text-xl font-bold text-gray-800">
                Φόρτωση ερώτησης...
            </p>
        </div>

        <!-- Περιοχή Επιλογών -->
        <div id="options-container" class="space-y-3 sm:space-y-4 mb-6 sm:mb-8">
            <!-- Εδώ θα μπουν δυναμικά τα κουμπιά των επιλογών -->
        </div>

        <!-- Περιοχή Ανατροφοδότησης -->
        <div id="feedback-message" class="text-base sm:text-lg font-medium text-gray-700 mb-4 sm:mb-6"></div>

        <!-- Περιοχή Κουμπιών Πλοήγησης -->
        <div class="flex flex-col sm:flex-row justify-between items-center space-y-3 sm:space-y-0 pt-4 border-t border-gray-200">
            <div class="flex space-x-2 sm:space-x-4 w-full sm:w-auto">
                <button id="previous-button"
                        class="flex-1 sm:flex-none bg-gray-500 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl shadow hover:bg-gray-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"
                        disabled>
                    &larr; Προηγούμενη
                </button>
                <button id="next-button"
                        class="flex-1 sm:flex-none bg-yellow-500 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-lg sm:rounded-xl shadow-lg hover:bg-yellow-600 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base"
                        disabled>
                    Επόμενη &rarr;
                </button>
            </div>
        </div>
        
        <!-- Κουμπί Επιστροφής στην Κεντρική Σελίδα -->
        <div class="mt-4 sm:mt-6 w-full">
            <a href="https://conchr.github.io/Farsala-Center-Page/" 
               class="block w-full bg-purple-600 text-white font-bold py-3 px-4 rounded-lg sm:rounded-xl shadow-lg hover:bg-purple-700 transition-all duration-300 text-center text-sm sm:text-base">
                Επιστροφή στην Κεντρική Σελίδα
            </a>
        </div>
    </div>

    <!-- Περιοχή Τελικών Αποτελεσμάτων (Κρυφή αρχικά) -->
    <div id="results-container" class="hidden w-full max-w-xl bg-white p-4 sm:p-6 md:p-8 rounded-xl sm:rounded-2xl shadow-lg sm:shadow-2xl border border-gray-100 text-center">
        <h2 class="text-2xl sm:text-3xl md:text-4xl font-extrabold text-gray-800 mb-4">Το Κουίζ Ολοκληρώθηκε!</h2>
        <p class="text-xl sm:text-2xl mb-4 sm:mb-6 text-green-700 font-bold">Τελικό Σκορ:</p>
        <p id="final-score" class="text-4xl sm:text-5xl md:text-6xl font-black text-yellow-500 mb-6 sm:mb-8"></p>
        <p id="final-message" class="text-lg sm:text-xl text-gray-700 mb-6 sm:mb-8"></p>
        <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
            <button onclick="restartQuiz()"
                    class="bg-blue-600 text-white font-bold py-3 px-6 rounded-lg sm:rounded-xl shadow-lg hover:bg-blue-700 transition-all duration-300 text-sm sm:text-base">
                Παίξε Ξανά
            </button>
            <a href="https://conchr.github.io/Farsala-Center-Page/" 
               class="bg-purple-600 text-white font-bold py-3 px-6 rounded-lg sm:rounded-xl shadow-lg hover:bg-purple-700 transition-all duration-300 text-center text-sm sm:text-base">
                Επιστροφή στην Κεντρική Σελίδα
            </a>
        </div>
    </div>

    <script>
        // Δεδομένα Κουίζ με 15 ερωτήσεις από την παρουσίαση.
        const quizQuestions = [
            {
                question: "Με ποια αρχαία πόλη πιστεύεται ότι ταυτίζεται η θέση «Κάστρο» Καλλιθέας;",
                options: ["Φάρσαλος", "Πεύμα", "Σκοτούσσα", "Ερέτρια"],
                answer: "Πεύμα"
            },
            {
                question: "Ποια ήταν η κύρια περίοδος κατοίκησης της πόλης;",
                options: ["10ος - 7ος αι. π.Χ.", "4ος - 2ος αι. π.Χ.", "1ος - 3ος αι. μ.Χ.", "Βυζαντινή Περίοδος"],
                answer: "4ος - 2ος αι. π.Χ."
            },
            {
                question: "Ποια είναι η συνολική έκταση της πόλης εντός των τειχών;",
                options: ["150 στρέμματα", "340 στρέμματα", "500 στρέμματα", "80 στρέμματα"],
                answer: "340 στρέμματα"
            },
            {
                question: "Σε ποια πολιτική οργάνωση ανήκε η πόλη κατά την Ελληνιστική Εποχή;",
                options: ["Συμμαχία των Δελφών", "Αμφικτιονία", "Αχαϊκή Συμπολιτεία", "Κοινό της Αχαΐας Φθιώτιδος"],
                answer: "Κοινό της Αχαΐας Φθιώτιδος"
            },
            {
                question: "Ποιο είναι το πιο εντυπωσιακό χαρακτηριστικό του αρχαιολογικού χώρου;",
                options: ["Ο θολωτός τάφος", "Η πλήρης διατήρηση της οχύρωσης", "Το μεγάλο θέατρο", "Η ρωμαϊκή έπαυλη"],
                answer: "Η πλήρης διατήρηση της οχύρωσης"
            },
            {
                question: "Ποια δομή χρησίμευε ως το «τελευταίο καταφύγιο» σε περίπτωση πολιορκίας;",
                options: ["Η Αγορά", "Η Ακρόπολη", "Το Τείχος", "Ο Κεντρικός Ναός"],
                answer: "Η Ακρόπολη"
            },
            {
                question: "Ποιες τεχνικές δόμησης χρησιμοποιήθηκαν πιθανότατα για τα τείχη;",
                options: ["Ωμοπλινθική", "Πολυγωνική ή ισοδομική", "Εμπλεκτό", "Πλινθοδομή"],
                answer: "Πολυγωνική ή ισοδομική"
            },
            {
                question: "Ποια δομικά στοιχεία ενίσχυαν την άμυνα του τείχους;",
                options: ["Αποχετεύσεις", "Δημόσια κτίρια", "Πύργοι", "Βωμοί"],
                answer: "Πύργοι"
            },
            {
                question: "Ποια κατεύθυνση είχαν οι κύριες είσοδοι που εντοπίζονται στην Ακρόπολη;",
                options: ["Βόρεια και Νότια", "Ανατολική και Δυτική", "Βόρεια και Ανατολική", "Νότια και Δυτική"],
                answer: "Ανατολική και Δυτική"
            },
            {
                question: "Ποιο κτίριο, μεγάλη ιδιωτική οικία, έδωσε σημαντικές πληροφορίες για την καθημερινή ζωή;",
                options: ["Κτίριο 5", "Κτίριο 10", "Στοά", "Ναός"],
                answer: "Κτίριο 10"
            },
            {
                question: "Σε ποια ευρύτερη ιστορική περίοδο ανήκει η μεγαλύτερη ακμή της πόλης;",
                options: ["Αρχαϊκή Εποχή", "Κλασική Εποχή", "Ελληνιστική Εποχή", "Ρωμαϊκή Εποχή"],
                answer: "Ελληνιστική Εποχή"
            },
            {
                question: "Τι διακρίνεται μέσα στα τείχη, εκτός από την Ακρόπολη;",
                options: ["Μόνο τάφοι", "Μόνο ιδιωτικές κατοικίες", "Αγορά, Ναοί, Δημόσια Κτίρια", "Ρωμαϊκά Λουτρά"],
                answer: "Αγορά, Ναοί, Δημόσια Κτίρια"
            },
            {
                question: "Ποιος ήταν ο ρόλος των τειχών πέρα από την άμυνα, σύμφωνα με την παρουσίαση;",
                options: ["Χώρος λατρείας", "Σύμβολο ισχύος και οργάνωσης", "Σημείο συνάντησης", "Πλατεία"],
                answer: "Σύμβολο ισχύος και οργάνωσης"
            },
             {
                question: "Ποιο υλικό χρησιμοποιήθηκε ως πρώτη ύλη για την κατασκευή των τειχών;",
                options: ["Κεραμικά τούβλα", "Ογκώδεις πέτρες", "Ξύλινοι πάσσαλοι", "Άμμος"],
                answer: "Ογκώδεις πέτρες"
            },
            {
                question: "Σε ποια μεγάλη έκταση διασώζεται η οχύρωση του Κάστρου Καλλιθέας;",
                options: ["Σε τμήματα μόνο", "Σε όλη την έκταση της πόλης", "Στην Ακρόπολη μόνο", "Στο μισό της πόλης"],
                answer: "Σε όλη την έκταση της πόλης"
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let answered = false;

        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        const questionNumberEl = document.getElementById('question-number');
        const currentScoreEl = document.getElementById('current-score');
        const questionTextEl = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const nextButton = document.getElementById('next-button');
        const previousButton = document.getElementById('previous-button');
        const feedbackMessageEl = document.getElementById('feedback-message');
        const finalScoreEl = document.getElementById('final-score');
        const finalMessageEl = document.getElementById('final-message');

        // Συνάρτηση για την ανάμειξη των επιλογών
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Φορτώνει την τρέχουσα ερώτηση
        function loadQuestion() {
            answered = false;
            nextButton.disabled = true;
            
            // Ενημέρωση κατάστασης κουμπιού προηγούμενης ερώτησης
            previousButton.disabled = currentQuestionIndex === 0;
            
            feedbackMessageEl.textContent = '';
            optionsContainer.innerHTML = ''; // Καθαρισμός προηγούμενων επιλογών

            const currentQ = quizQuestions[currentQuestionIndex];
            
            questionNumberEl.textContent = `Ερώτηση ${currentQuestionIndex + 1} / ${quizQuestions.length}`;
            questionTextEl.textContent = currentQ.question;
            currentScoreEl.textContent = `Σκορ: ${score}`;

            // Ανάμειξη των επιλογών πριν την εμφάνιση
            const shuffledOptions = shuffleArray([...currentQ.options]);

            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.textContent = option;
                button.classList.add(
                    'option-button', 
                    'w-full', 'py-3', 'px-4', 
                    'bg-gray-50', 'text-gray-700', 'font-medium', 
                    'rounded-lg', 'border-2', 'border-gray-200',
                    'text-left', 'shadow-sm', 'hover:bg-gray-100',
                    'text-sm', 'sm:text-base'
                );
                button.addEventListener('click', () => selectAnswer(button, option, currentQ.answer));
                optionsContainer.appendChild(button);
            });
        }

        // Διαχειρίζεται την επιλογή απάντησης
        function selectAnswer(selectedButton, selectedAnswer, correctAnswer) {
            if (answered) return; // Αποτροπή πολλαπλών απαντήσεων

            answered = true;
            const optionButtons = document.querySelectorAll('.option-button');
            
            // Απενεργοποίηση όλων των κουμπιών
            optionButtons.forEach(btn => {
                btn.disabled = true;
                btn.classList.add('disabled');
                
                // Επισήμανση σωστής/λάθος απάντησης
                if (btn.textContent === correctAnswer) {
                    btn.classList.add('correct');
                    btn.classList.remove('hover:bg-gray-100');
                } else if (btn === selectedButton) {
                    btn.classList.add('incorrect');
                    btn.classList.remove('hover:bg-gray-100');
                }
            });

            // Έλεγχος απάντησης
            if (selectedAnswer === correctAnswer) {
                score++;
                feedbackMessageEl.textContent = '✅ Σωστή Απάντηση! Συγχαρητήρια!';
                feedbackMessageEl.classList.remove('text-red-600');
                feedbackMessageEl.classList.add('text-green-600');
            } else {
                feedbackMessageEl.textContent = '❌ Λάθος Απάντηση. Η σωστή ήταν: ' + correctAnswer;
                feedbackMessageEl.classList.remove('text-green-600');
                feedbackMessageEl.classList.add('text-red-600');
            }

            currentScoreEl.textContent = `Σκορ: ${score}`;
            nextButton.disabled = false;
        }

        // Διαχειρίζεται την προώθηση στην επόμενη ερώτηση
        nextButton.addEventListener('click', () => {
            currentQuestionIndex++;
            if (currentQuestionIndex < quizQuestions.length) {
                loadQuestion();
            } else {
                showResults();
            }
        });

        // Διαχειρίζεται την επιστροφή στην προηγούμενη ερώτηση
        previousButton.addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        });

        // Εμφανίζει τα τελικά αποτελέσματα
        function showResults() {
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');

            const percentage = (score / quizQuestions.length) * 100;
            finalScoreEl.textContent = `${score} / ${quizQuestions.length}`;

            let message = '';
            if (percentage >= 80) {
                message = 'Εξαιρετική επίδοση! Έχετε πλήρη γνώση της οχύρωσης του Κάστρου Καλλιθέας.';
                finalMessageEl.classList.add('text-green-700');
            } else if (percentage >= 50) {
                message = 'Πολύ καλά! Χρειάζεται λίγη ακόμη μελέτη στα στοιχεία της παρουσίασης.';
                finalMessageEl.classList.add('text-yellow-700');
            } else {
                message = 'Καλό ξεκίνημα! Ξαναπαίξτε για να ανακαλύψετε τα μυστικά της αρχαίας πόλης.';
                finalMessageEl.classList.add('text-red-700');
            }

            finalMessageEl.textContent = message;
        }

        // Επανεκκινεί το κουίζ
        function restartQuiz() {
            currentQuestionIndex = 0;
            score = 0;
            resultsContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            loadQuestion();
        }

        // Έναρξη του παιχνιδιού
        window.onload = loadQuestion;
    </script>
</body>
</html>
